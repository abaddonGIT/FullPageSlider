var FullPageSlider=null;!function(e,t,i,s,n){"use strict";var a={},r=null;FullPageSlider=function(e){a=this.ext({sliderSelector:null,startSlide:0,next:".next",prev:".prev",itemClass:".item",effectName:"vertical",delay:3e3},e),this.ext(this,{config:a,goodSlides:[],index:0,handlers:{},active:a.effectName,activeP:a.effectName+"-p",activeFirst:a.effectName+"-first",activeNext:a.effectName+"-next",activePrev:a.effectName+"-prev",css3:!0,itemCount:0,lock:!1}),n.defineProperty(this,"index",{set:function(e){this.number=e,this.next=this.goodSlides[e+1],this.nextIndex=e+1,this.next||(this.next=this.goodSlides[0],this.nextIndex=0)},get:function(){return this.number}}),/MSIE 9/i.test(i.userAgent)&&(this.active="badie",this.css3=!1),this.run=function(){return this.buildSlider()},this.buildSlider=function(){return this.slider=t.querySelector(a.sliderSelector),this.slider?(this.addClass(this.slider,"full-slider"),this.navigateButtons(),this.getAllSlides(),void 0):(this.throwError("error","Указан неправильный селектор контенера!!!"),!1)},this.navigateButtons=function(){this.next=t.querySelector(this.config.next),this.prev=t.querySelector(this.config.prev),this.next&&this.next.addEventListener("click",this.nextSlide,!1),this.prev&&this.prev.addEventListener("click",this.prevSlide,!1)},this.getAllSlides=function(){return this.slides=this.slider.querySelectorAll(a.itemClass),this.slides.length?void this.imgLoad(0,function(){delete this.slides,this.index=a.startSlide,this.emit("load"),this.addAnimationEndEvent()}.bind(this)):void this.throwError("error","Блок не содержит не одного слайда!!!")},this.addAnimationEndEvent=function(){this.firstSlide();for(var e=this.itemCount;e--;){var t=this.goodSlides[e];this.prefixedEvent(t,"AnimationEnd",this.cssAnimationEnd),this.prefixedEvent(t,"AnimationStart",this.cssAnimationStart)}},this.firstSlide=function(){this.addClass(this.goodSlides[this.index],this.activeFirst),this.lock=!0,s(function(){this.removeClass(this.goodSlides[this.index],this.activeFirst).addClass(this.goodSlides[this.index],this.active).addClass(this.next,this.activeNext),this.lock=!1}.bind(this),a.delay)},this.cssAnimationStart=function(e){(e.animationName===a.effectName||e.animationName===r.activeP)&&(clearTimeout(r.iterationTime),r.lock=!0)},this.cssAnimationEnd=function(e){r.lock=!1,(e.animationName===r.active||e.animationName===r.activeP)&&(r.iterationTime=s(function(){var e=r.goodSlides[r.index];r.clearAttribute(),r.removeClass(e,r.active),r.index<r.itemCount-1?r.index++:r.index=0,r.addClass(r.next,r.activeNext).removeClass(r.next,r.active).addClass(r.goodSlides[r.index],r.active).removeClass(r.goodSlides[r.index],r.activeNext),r.emit("tic")},a.delay))},this.nextSlide=function(e){r.paginationAction("next"),e.preventDefault()},this.prevSlide=function(e){r.paginationAction("prev"),e.preventDefault()},this.paginationAction=function(e){if(r.lock)return!1;switch(r.removeClass(r.goodSlides[r.index],r.active),clearTimeout(r.iterationTime),r.clearAttribute(),e){case"next":r.index<r.itemCount-1?r.index++:r.index=0,r.removeClass(r.goodSlides[r.index],r.activeNext).addClass(r.goodSlides[r.index],r.active).removeClass(r.next,r.active).addClass(r.next,r.activeNext);break;case"prev":r.setAttribute(),r.removeClass(r.goodSlides[r.nextIndex+1<r.itemCount?r.nextIndex+1:0],r.active).removeClass(r.next,r.activeNext).addClass(r.next,r.active).addClass(r.goodSlides[r.index],r.activeNext),r.index>0?r.index--:r.index=r.itemCount-1,r.removeClass(r.next,r.active)}},r=this},FullPageSlider.prototype={clearAttribute:function(){r.goodSlides[r.index].removeAttribute("name"),r.goodSlides[r.nextIndex+1<r.itemCount?r.nextIndex+1:0].removeAttribute("name"),r.next.removeAttribute("name")},setAttribute:function(){r.next.setAttribute("name","prev"),r.goodSlides[r.index].setAttribute("name","prev")},imgLoad:function(e,t){if(this.slides[e]){var i,s=this.slides[e].getAttribute("data-image");s&&(i=new Image,i.src=s,i.onload=function(){this.slides[e].style.cssText+="background-image: url("+s+");",this.goodSlides.push(this.slides[e]),this.itemCount++,e++,r.imgLoad(e,t),i=null}.bind(this),i.onerror=function(){delete this.slides[e],e++,this.throwError("warn","изображение не жожет быть загруженно!!!"),this.imgLoad(e,t),i=null}.bind(this))}else t()},ext:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else{var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(i,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}return{removeClass:r.removeClass,addClass:r.addClass}},addClass:function(e,t){return e&&(e.classList?e.classList.add(t):e.className+=" "+t),{removeClass:r.removeClass,addClass:r.addClass}},throwError:function(e,t){switch(e){case"error":console.error(t);break;case"warn":console.warn(t);break;case"log":console.log(t)}},prefixedEvent:function(e,t,i,s){for(var n=["webkit",""],a=0;a<n.length;a++)n[a]||(t=t.toLowerCase()),s?e.removeEventListener(n[a]+t,i,!1):e.addEventListener(n[a]+t,i,!1)},on:function(e,t){this.handlers[e]=t},emit:function(){var e=this.handlers[arguments[0]];e&&this.handlers[arguments[0]].apply(this,arguments)}}}(window,document,navigator,setTimeout,Object);